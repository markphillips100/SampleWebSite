{
  "name": "docpad-plugin-contentful",
  "version": "2.1.1",
  "description": "DocPad plugin that adds the ability to import data from a Contentful api",
  "homepage": "https://github.com/markphillips100/docpad-plugin-contentful",
  "license": {
    "type": "MIT"
  },
  "keywords": [
    "docpad",
    "docpad-plugin",
    "contentful"
  ],
  "badges": {
    "travis": true,
    "npm": true,
    "npmdownloads": true,
    "david": true,
    "daviddev": true
  },
  "author": {
    "name": "Mark Phillips"
  },
  "maintainers": [
    {
      "name": "Mark Phillips",
      "url": "markphillips100@github.com"
    }
  ],
  "contributors": [
    {
      "name": "markphillips100",
      "url": "https://github.com/markphillips100"
    }
  ],
  "bugs": {
    "url": "https://github.com/markphillips100/docpad-plugin-contentful/issues"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/markphillips100/docpad-plugin-contentful.git"
  },
  "engines": {
    "node": ">=0.8"
  },
  "peerDependencies": {
    "docpad": "6"
  },
  "dependencies": {
    "contentful": "^1.1.1",
    "lodash": "^3.10.0",
    "path": "^0.11.14",
    "pluralize": "^1.1.2",
    "querystring": "^0.2.0",
    "string": "^3.3.0",
    "when": "^3.7.3",
    "taskgroup": "^4.0.5"
  },
  "devDependencies": {
    "docpad": "6",
    "coffee-script": "^1.9.1",
    "projectz": "^0.5.0"
  },
  "main": "./out/contentful.plugin.js",
  "scripts": {
    "test": "node ./out/contentful.test.js"
  },
  "cakeConfiguration": {
    "COFFEE_SRC_PATH": "src"
  },
  "readme": "# Contentful Plugin for [DocPad](http://docpad.org)\r\n\r\n<!-- BADGES/ -->\n\n[![Build Status](https://img.shields.io/travis/markphillips100/docpad-plugin-contentful/master.svg)](http://travis-ci.org/markphillips100/docpad-plugin-contentful \"Check this project's build status on TravisCI\")\n[![NPM version](https://img.shields.io/npm/v/docpad-plugin-contentful.svg)](https://npmjs.org/package/docpad-plugin-contentful \"View this project on NPM\")\n[![NPM downloads](https://img.shields.io/npm/dm/docpad-plugin-contentful.svg)](https://npmjs.org/package/docpad-plugin-contentful \"View this project on NPM\")\n[![Dependency Status](https://img.shields.io/david/markphillips100/docpad-plugin-contentful.svg)](https://david-dm.org/markphillips100/docpad-plugin-contentful)\n[![Dev Dependency Status](https://img.shields.io/david/dev/markphillips100/docpad-plugin-contentful.svg)](https://david-dm.org/markphillips100/docpad-plugin-contentful#info=devDependencies)<br/>\n\n\n<!-- /BADGES -->\n\n\nImport Contentful entries into DocPad collections.\r\n\r\nInspired by and based on https://github.com/nfriedly/docpad-plugin-mongodb\r\n\r\n<!-- INSTALL/ -->\n\n## Install\n\n``` bash\ndocpad install contentful\n```\n\n<!-- /INSTALL -->\n\n\n## Configuration\r\n\r\n### Simple example\r\n\r\nAdd the following to your [docpad configuration file](http://docpad.org/docs/config):\r\n\r\n``` coffee\r\nplugins:\r\n  contentful:\r\n    collections: [\r\n      accessToken: \"23e9e3d2eb2a2303d64262692...\"\r\n\t  spaceId: \"sd0nae...\"\r\n      collectionName: \"posts\"\r\n      relativeDirPath: \"blog\"\r\n      extension: \".html\"\r\n      sort: date: 1 # newest first\r\n      meta:\r\n        layout: \"blogpost\"\r\n    ]\r\n```\r\n\r\n### Fancy example\r\n\r\n``` coffee\r\nplugins:\r\n  contentful:\r\n    collectionDefaults:\r\n\t\taccessToken: \"23e9e3d2eb2a2303d64262692...\"\r\n\t\tspaceId: \"sd0nae...\"\r\n\t  \r\n    collections: [\r\n      {\r\n        # accessToken and spaceId are imported from the defaults\r\n        collectionName: \"posts\"\r\n        relativeDirPath: \"blog\"\r\n        extension: '.html.eco'\r\n        sort: date: 1 # newest first\r\n        injectDocumentHelper: (document) ->\r\n          document.setMeta(\r\n            layout: 'default'\r\n            tags: (document.get('tags') or []).concat(['post'])\r\n            data: \"\"\"\r\n              <%- @partial('post/'+@document.tumblr.type, @extend({}, @document, @document.tumblr)) %>\r\n              \"\"\"\r\n          )\r\n      },\r\n\r\n      {\r\n        collectionName: \"comments\"\r\n        filters: content_type: \"a content type id\"\r\n        extension: '.html.markup'\r\n        sort: date: -1 #oldest first\r\n        meta:\r\n          write: false\r\n      },\r\n\r\n      {\r\n        spaceId: \"some other space id\"\r\n        filters: content_type: \"another content type id\"\r\n        collectionName: \"stats\"\r\n        extension: \".json\"\r\n      }\r\n    ]\r\n```\r\n\r\n### Config details:\r\n\r\nEach configuration object in `collections` inherits default values from `collectionDefaults` and then from the built-in defaults:\r\n\r\n```coffee\r\n\taccessToken: \"accessToken\" # the api key for the accessing the Contentful space\r\n\tspaceId: \"spaceId\" # the spaceId for the space in Contentful\r\n    relativeDirPath: null # defaults to collectionName\r\n    extension: \".json\"\r\n    injectDocumentHelper: null # function to format documents\r\n    collectionName: \"my-content\" # name to give the collection, defaults to \"contentful\"\r\n    sort: null # http://documentcloud.github.io/backbone/#Collection-comparator\r\n    meta: {} # automatically added to each document\r\n    filters: {} # optional Contentful query properties.  \"content_type\" is usually the minimum required.\r\n```\r\n\r\nThe default directory for where the imported documents will go inside is the collectionName.\r\nYou can override this using the `relativeDirPath` plugin config option.\r\n\r\nThe default content for the imported documents is JSON data. You can can customise this with the `injectDocumentHelper`\r\nplugin configuration option which is a function that takes in a single [Document Model](https://github.com/bevry/docpad/blob/master/src/lib/models/document.coffee).\r\n\r\nIf you would like to render a template, add a layout, and change the extension, you can do it via the `meta` configuration\r\noption or you can get fancy and do this with (for example) the\r\n[eco](https://github.com/docpad/docpad-plugin-eco) and [partials](https://github.com/docpad/docpad-plugin-partials)\r\nplugins and following collection configuration:\r\n\r\n``` coffee\r\nextension: '.html.eco'\r\ninjectDocumentHelper: (document) ->\r\n  document.setMeta(\r\n    layout: 'default'\r\n    tags: (document.get('tags') or []).concat(['post'])\r\n    data: \"\"\"\r\n\t\t\t<%- @partial('post/'+@document.tumblr.type, @extend({}, @document, @document.tumblr)) %>\r\n\t\t\t\"\"\"\r\n  )\r\n```\r\n\r\nThe `sort` field is [passed as the comparator to Query Engine](https://learn.bevry.me/queryengine/guide#querying) which tries it as a\r\n[MongoDB-style sort](http://docs.mongodb.org/manual/reference/method/cursor.sort/) first and then a\r\n[Backbone.js comparator](http://documentcloud.github.io/backbone/#Collection-comparator) second.\r\n\r\n### Creating a File Listing\r\n\r\nAs imported documents are just like normal documents, you can also list them just as you would other documents. Here is an example of a `index.html.eco` file that would output the titles and links to all the blog posts from the simple example above:\r\n\r\n``` erb\r\n<h2>Blog:</h2>\r\n<ul><% for post in @getCollection('posts').toJSON(): %>\r\n\t<li>\r\n\t\t<a href=\"<%= post.url %>\"><%= post.title %></a>\r\n\t</li>\r\n<% end %></ul>\r\n```\r\n\n\n<!-- LICENSE/ -->\n\n## License\n\nUnless stated otherwise all works are:\n\n- Copyright &copy; Mark Phillips\n\nand licensed under:\n\n- The incredibly [permissive](http://en.wikipedia.org/wiki/Permissive_free_software_licence) [MIT License](http://opensource.org/licenses/mit-license.php)\n\n<!-- /LICENSE -->\n\n\n",
  "readmeFilename": "README.md",
  "gitHead": "eecbb9e33498a96ab48208da0cc40ce75e520cfe",
  "_id": "docpad-plugin-contentful@2.1.1",
  "_shasum": "5477f8ecf0879ffd415f55676b8948e42bc424f3",
  "_from": "docpad-plugin-contentful@>=2.0.0 <3.0.0"
}
